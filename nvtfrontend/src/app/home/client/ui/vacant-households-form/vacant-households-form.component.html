<div class="w-100 d-flex flex-column" style="height: 100%; ">
  
  <div class="px-3">
    <div class="form-group w-100 position-relative mb-4" style="box-sizing: border-box;  ">
      <label for="searchInput"></label>
      <input
        type="text"
        class="form-control py-3 px-4"
        id="searchInput"
        style="font-size: medium;"
        placeholder="Search for address, city, zipcode, municipality, or region"
        name="search-vacant"
        [formControl]="searchControl"
        (focus)="showDropdown =true"
        (blur)="hideDropdown()"
      >
  

      @if((filteredSuggestions.length > 0 && showDropdown)){
        <ul style="z-index: 1050; overflow-y: auto;"
        class="list-group position-absolute w-100 shadow bg-white shadow"  >

          @for (suggestion of filteredSuggestions; track suggestion) {
            <li
              class="list-group-item list-group-item-action"
              (click)="selectSuggestion(suggestion)">
              <i class="bi me-2" [ngClass]="{
                'bi-house-door': suggestion.type === 'HOUSE',
                'bi-building': suggestion.type === 'BUILDING',
                'bi-signpost': suggestion.type === 'COTTAGE',
                'bi-shop': suggestion.type === 'COMMERCE_SPACE',
                'bi-geo-alt': ['REGION', 'MUNICIPALITY', 'CITY'].includes(suggestion.type)
              }"></i> 
              <span [innerHTML]="suggestion.highlighted"></span>
            </li>
          }
          
        </ul>
      }
      
    </div>
  </div>
  

  <div class="d-flex flex-grow-1 flex-xl-row flex-column" style="background-color: blue; min-height: 0;"> 
  
    <div class="d-flex flex-column" style="background-color: purple; min-width: 50%; min-height: 40%;">
      
        <div id="mape" style="width: 100%; height: 100%">
          <google-map #googleMap [center]="center" [zoom]="7" width="100%" height="100%" [options]="mapOptions">
            @for (realestate of realestates; track realestate.doc.dbId) {
              <map-marker
                [position]="realestate.marker"
                (mapClick)="onMarkerClick($event, realestate)">
                
              </map-marker>
        
            }

            @if(selectedRealestateMarker){
              <div class="popup-card" style="z-index: 1070;" [style.left.px]="popupPosition.x" [style.top.px]="popupPosition.y">
                <a>
                  <i class="bi me-2" [ngClass]="{
                    'bi-house-door': selectedRealestateMarker.doc.type === 'HOUSE',
                    'bi-building': selectedRealestateMarker.doc.type === 'BUILDING',
                    'bi-signpost': selectedRealestateMarker.doc.type === 'COTTAGE',
                    'bi-shop': selectedRealestateMarker.doc.type === 'COMMERCE_SPACE',
                    'bi-geo-alt': ['REGION', 'MUNICIPALITY', 'CITY'].includes(selectedRealestateMarker.doc.type)
                  }"></i> {{selectedRealestateMarker.doc.address}} 
                </a>
              </div>
  
            }

          </google-map>

        
        </div>

       
    
    </div>
    
    <div class="border" style="background-color: white; box-sizing: border-box; overflow-y: scroll;">
      <div class="container-fluid g-0 p-3">
        <div class="row g-3">
          
          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        
          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        
          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>


          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        
          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>


          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        
          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>


          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        
          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>




          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>

          
          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>
        

          <div class="col-sm-6">
            <div class="p-3 rounded border">
               iskde
            </div>
          </div>



        </div>
      </div>
    </div>
  
  </div>
 
  
  

</div>


